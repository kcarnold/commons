JS.Observable=(function(){var c={addObserver:function(a,b){this._observers=this._observers||[];this._observers.push({block:a,context:b||null})},removeObserver:function(a,b){this._observers=this._observers||[];b=b||null;for(var i=0,n=this.countObservers();i<n;i++){if(this._observers[i].block==a&&this._observers[i].context==b){this._observers.splice(i,1);return}}},removeObservers:function(){this._observers=[]},countObservers:function(){this._observers=this._observers||[];return this._observers.length},notifyObservers:function(){if(!this.isChanged())return;for(var i=0,n=this.countObservers(),a;i<n;i++){a=this._observers[i];a.block.apply(a.context,arguments)}},setChanged:function(a){this._changed=!(a===false)},isChanged:function(){if(this._changed===undefined)this._changed=true;return!!this._changed}};c.subscribe=c.addObserver;c.unsubscribe=c.removeObserver;return JS.Module(c)})();